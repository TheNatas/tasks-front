<!-- login.component.html -->
<div class="auth-wrapper">
  <h2>Welcome</h2>

  <div class="login-container">
    <div class="tab-header">
      <button
        type="button"
        class="tab-btn"
        [class.active]="activeTab === 'login'"
        (click)="switchTab('login')">
        Login
      </button>
      <button
        type="button"
        class="tab-btn"
        [class.active]="activeTab === 'signup'"
        (click)="switchTab('signup')">
        Sign Up
      </button>
    </div>

    <div class="tab-content">
      <!-- Login Tab -->
      <form
        *ngIf="activeTab === 'login'"
        [formGroup]="form"
        (ngSubmit)="login()"
        class="login-form">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            id="username"
            type="text"
            formControlName="username"
            placeholder="Enter your username"
          />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            placeholder="Enter your password"
          />
        </div>

        <button type="submit" [disabled]="form.invalid" class="login-btn">
          Login
        </button>
      </form>

      <!-- Sign Up Tab -->
      <form
        *ngIf="activeTab === 'signup'"
        [formGroup]="form"
        (ngSubmit)="register()"
        class="login-form">
        <div class="form-group">
          <label for="signup-username">Username</label>
          <input
            id="signup-username"
            type="text"
            formControlName="username"
            placeholder="Choose a username"
          />
        </div>

        <div class="form-group">
          <label for="signup-password">Password</label>
          <input
            id="signup-password"
            type="password"
            formControlName="password"
            placeholder="Choose a password"
          />
        </div>

        <div class="form-group">
          <label for="confirm-password">Confirm Password</label>
          <input
            id="confirm-password"
            type="password"
            formControlName="confirmPassword"
            placeholder="Confirm your password"
          />
          <div *ngIf="form.hasError('passwordMismatch') && form.get('confirmPassword')?.touched" class="field-error">
            Passwords do not match
          </div>
        </div>

        <button type="submit" [disabled]="form.invalid" class="signup-btn">
          Sign Up
        </button>
      </form>
    </div>

    <div *ngIf="error" class="error-message">{{ error }}</div>
    <div *ngIf="successMessage" class="success-message">
      <span>{{ successMessage }}</span>
      <button type="button" class="close-btn" (click)="closeSuccessMessage()" aria-label="Close">
        Ã—
      </button>
    </div>
  </div>
</div>
